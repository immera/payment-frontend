/*! For license information please see index.min.js.LICENSE.txt */
(()=>{var t={345:(t,e,r)=>{"use strict";function n(t,e){void 0===e&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach((function(t){r.setAttribute(t,e[t]),"data-csp-nonce"===t&&r.setAttribute("nonce",e["data-csp-nonce"])})),r}function o(t,e){if(void 0===e&&(e=i()),c(t,e),"undefined"==typeof window)return e.resolve(null);var r=function(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),function(t){var e=t["merchant-id"],r=t["data-merchant-id"],n="",o="";Array.isArray(e)?e.length>1?(n="*",o=e.toString()):n=e.toString():"string"==typeof e&&e.length>0?n=e:"string"==typeof r&&r.length>0&&(n="*",o=r),t["merchant-id"]=n,t["data-merchant-id"]=o}(t);var r,n,o=Object.keys(t).filter((function(e){return void 0!==t[e]&&null!==t[e]&&""!==t[e]})).reduce((function(e,r){var n=t[r].toString();return"data-"===r.substring(0,5)?e.dataAttributes[r]=n:e.queryParams[r]=n,e}),{queryParams:{},dataAttributes:{}}),a=o.queryParams,i=o.dataAttributes;return{url:"".concat(e,"?").concat((r=a,n="",Object.keys(r).forEach((function(t){0!==n.length&&(n+="&"),n+=t+"="+r[t]})),n)),dataAttributes:i}}(t),o=r.url,u=r.dataAttributes,l=u["data-namespace"]||"paypal",d=s(l);return function(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(null===r)return null;var o=n(t,e),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(o.dataset).length)return null;var i=!0;return Object.keys(a.dataset).forEach((function(t){a.dataset[t]!==o.dataset[t]&&(i=!1)})),i?r:null}(o,u)&&d?e.resolve(d):a({url:o,attributes:u},e).then((function(){var t=s(l);if(t)return t;throw new Error("The window.".concat(l," global variable is not available."))}))}function a(t,e){void 0===e&&(e=i()),c(t,e);var r=t.url,o=t.attributes;if("string"!=typeof r||0===r.length)throw new Error("Invalid url.");if(void 0!==o&&"object"!=typeof o)throw new Error("Expected attributes to be an object.");return new e((function(t,e){if("undefined"==typeof window)return t();var a,i,s,c;a={url:r,attributes:o,onSuccess:function(){return t()},onError:function(){var t=new Error('The script "'.concat(r,'" failed to load.'));return window.fetch?fetch(r).then((function(r){return 200===r.status&&e(t),r.text()})).then((function(t){var r=function(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}(t);e(new Error(r))})).catch((function(t){e(t)})):e(t)}},i=a.onSuccess,s=a.onError,(c=n(a.url,a.attributes)).onerror=s,c.onload=i,document.head.insertBefore(c,document.head.firstElementChild)}))}function i(){if("undefined"==typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function s(t){return window[t]}function c(t,e){if("object"!=typeof t||null===t)throw new Error("Expected an options object.");if(void 0!==e&&"function"!=typeof e)throw new Error("Expected PromisePonyfill to be a function.")}r.r(e),r.d(e,{loadCustomScript:()=>a,loadScript:()=>o,version:()=>u});var u="5.0.6"},138:function(t,e,r){const{loadScript:n}=r(345);t.exports=(t,e)=>{this.settings=t,this.axios=e,this.stripe=Stripe(t.key),this.paypal=null,this.__proto__={requestPayment(t,e){return this.axios.post("/payment/request",{return_url:this.settings.callback,payment_method:t,...e})},alipay(t){return this.requestPayment("alipay",t).then((({data:t})=>{this.stripe.confirmAlipayPayment(t.response.client_secret,{return_url:t.callback}).then((t=>{t.error&&console.error(error)})).catch(console.error)}))},wechat_pay(t){return this.requestPayment("wechat_pay",t).then((({data:t})=>{this.stripe.confirmWechatPayPayment(t.response.client_secret,{payment_method_options:{wechat_pay:{client:"web"}}}).then((({error:e,paymentIntent:r})=>{e?console.error(e):console.log(t,r)}))}))},initCard(t){const e=this.stripe.elements();this.cardElem=e.create("card"),this.cardElem.mount(t)},async initPaypalBtn(t,{currency:e,amount:r}){e=e.toUpperCase(),r=(number(r)/100).toFixed(2);try{this.paypal=await n({"client-id":"test",currency:e})}catch(t){console.error("failed to load the PayPal JS SDK script",t)}if(paypal)try{await this.paypal.Buttons({style:{layout:"horizontal",color:"blue",tagline:!1},createOrder:(t,n)=>n.order.create({purchase_units:[{amount:{currency_code:e,value:r}}]}),onApprove:(t,e)=>e.order.capture().then((t=>{console.log(`Transaction completed by ${t.payer.name.given_name}`)})),onCancel(t){console.log("Cancelled !!!",t)},onError(t){console.error(t)}}).render(t)}catch(t){console.error("failed to render the PayPal Buttons",t)}},card(t){return this.requestPayment("card",t).then((({data:t})=>{this.stripe.confirmCardPayment(t.response.client_secret,{payment_method:{card:this.cardElem}}).then((t=>{t.error&&console.error(error),console.log("Possibly successful payment"),console.log(t)})).catch(console.error)}))},multibanco(t){return this.requestPayment("multibanco",t).then((({data:t})=>t.response)).then((({multibanco:t,status:e,currency:r,amount:n})=>({multibanco:{entity:t.entity,reference:t.reference},status:e,currency:r,amount:n})))},pay({payment_method:t,...e}){return this[t](e)},ack(t,e){return this.axios.put(`/payment/instances/${t}/ack`,{status:e})},get(t){return this.axios.get("/payment/instances",t)}}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(138)})();